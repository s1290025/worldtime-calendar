# なぜテーブル作成が必須なのか？

## 🔍 仕組みの説明

### 現状（localStorage）

```
ユーザー操作
    ↓
ブラウザのlocalStorage
    ↓
データ保存（ローカルのみ）
```

### Supabaseを使用する場合

```
ユーザー操作
    ↓
Supabase データベース（テーブルが必要！）
    ↓
データ保存（永続化 + 共有）
```

## ⚠️ テーブルがないと...

### コード例：

```typescript
// Supabaseにデータを保存しようとする
await supabase
  .from('shared_calendars')  // ← このテーブルが必要！
  .insert({ name: 'ミーティング', ... })
```

### テーブルがないと：

```
エラー: "relation 'shared_calendars' does not exist"
```

**結果**: アプリが動かない

## ✅ テーブルがあると...

### コードが動作：

```typescript
// Supabaseにデータを保存
await supabase
  .from('shared_calendars')  // ← テーブル存在！
  .insert({ name: 'ミーティング', ... })

// ✅ 成功！データが保存される
```

**結果**: アプリが正常に動作

## 📊 必要なテーブル

### 1. `shared_calendars` テーブル

```sql
保存内容:
- カレンダー名
- 作成者
- URL
- 作成日時
```

**使われる場面**: カレンダー作成時

### 2. `participants` テーブル

```sql
保存内容:
- 参加者名
- 色
- カレンダーID
```

**使われる場面**: ユーザーがカレンダーに参加

### 3. `events` テーブル

```sql
保存内容:
- 予定タイトル
- 開始・終了時刻
- タイムゾーン
- 参加者ID
```

**使われる場面**: 予定追加

## 🎯 結論

### テーブル作成が必須な理由

1. **データを保存する場所が必要**
   - テーブル = データを入れる箱
   - 箱がないと何も保存できない

2. **コードが正しく動作するため**
   - テーブルがない → エラー
   - テーブルがある → 正常動作

3. **調整さん風の機能に必須**
   - リアルタイム共有 = Supabase
   - Supabase = テーブル必要

## 🚀 やるべきこと

```
1. テーブル作成（Supabase SQL Editorで実行）
   ↓
   これだけで準備完了！
   ↓
2. コード実装（私がやります）
   ↓
   アプリが完成！
```

## 💡 つまり

**テーブル作成なし = アプリ動かない**

**テーブル作成あり = アプリ動く**

**結論**: 必ずテーブル作成が必要！

